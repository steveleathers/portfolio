<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.28.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.28.0/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<div id='map'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoic3RldmVsZWF0aGVycyIsImEiOiI3NUNNVXVnIn0.QyrTdSaE7cxc_OeVtZyM0Q';
var map = new mapboxgl.Map({
    style: 'mapbox://styles/mapbox/light-v9',
    center: [-122.667821, 45.521908],
    zoom: 15,
    pitch: 45,
    bearing: -17.6,
    container: 'map'
});

// the 'building' layer in the mapbox-streets vector source contains building-height
// data from OpenStreetMap.
map.on('load', function() {
    map.addLayer({
        'id': '3d-buildings',
        'source': 'composite',
        'source-layer': 'building',
        'filter': ['==', 'extrude', 'true'],
        'type': 'fill-extrusion',
        'minzoom': 15,
        'paint': {
            'fill-extrusion-color': '#aaa',
            'fill-extrusion-height': {
                'type': 'identity',
                'property': 'height'
            },
            'fill-extrusion-base': {
                'type': 'identity',
                'property': 'min_height'
            },
            'fill-extrusion-opacity': .6
        }
    });
});

map.on('load', function () {
    map.addSource("greenloop", {
        "type": "geojson",
        "data": {"type":"FeatureCollection","features":[{"type":"Feature","properties":{"stroke":"#0b9d57","stroke-width":5,"stroke-opacity":1},"geometry":{"type":"LineString","coordinates":[[-122.6776099205017,45.52988425795239],[-122.67620444297789,45.53069597450775],[-122.67313599586485,45.532439622312104],[-122.67189145088194,45.53314608491342],[-122.67119407653809,45.53349179742053],[-122.67062544822693,45.53295068125194],[-122.67023921012877,45.533078445261296],[-122.6697027683258,45.53310099182103],[-122.66776084899902,45.53309347630212],[-122.66672015190125,45.5330558986925],[-122.66473531723022,45.53295819678996],[-122.66268610954285,45.53295819678996],[-122.66064763069151,45.53294316571296],[-122.65861988067627,45.53294316571296],[-122.65861988067627,45.531530226538074],[-122.65861988067627,45.53000451299607],[-122.65863060951231,45.52794510987364],[-122.65968203544615,45.52795262608055],[-122.65967130661011,45.52892220834692],[-122.65969276428224,45.530027060788136],[-122.65968203544615,45.53015483143912],[-122.65967130661011,45.53040285599187],[-122.65963912010191,45.531620415205545],[-122.65966057777405,45.53294316571296]]}},{"type":"Feature","properties":{"stroke":"#0b9d57","stroke-width":5,"stroke-opacity":1},"geometry":{"type":"LineString","coordinates":[[-122.65863060951231,45.52794510987364],[-122.6586252450943,45.52776472060719],[-122.65848040580748,45.527584330762224],[-122.65765428543091,45.52655459432095],[-122.65766501426695,45.52578791699142],[-122.65867352485655,45.52578040049529],[-122.65868425369264,45.52437479806464],[-122.65868425369264,45.52368325884547],[-122.65868961811066,45.52292030082245],[-122.65869498252869,45.52221746826615],[-122.65869498252869,45.52149959279444],[-122.65870571136475,45.52079674248994],[-122.65871644020079,45.520075090261074],[-122.65871107578276,45.51936846348487],[-122.65870034694672,45.51876707200427],[-122.6585555076599,45.51865431038605],[-122.65867352485655,45.51842502773217],[-122.65868425369264,45.51723349463497],[-122.65869498252869,45.51651179670456],[-122.65869498252869,45.515797607349015],[-122.65870571136475,45.51508716789202],[-122.65871107578276,45.514376719466014],[-122.65871644020079,45.513654984897144],[-122.65872180461882,45.51294075928475],[-122.65872716903687,45.512234042915146],[-122.65872716903687,45.51151979926975],[-122.65873789787292,45.51080178731136],[-122.6587325334549,45.5100950440825],[-122.65874326229095,45.50937325460402],[-122.65874862670897,45.50867777161094],[-122.65978932380676,45.50867777161094],[-122.65978932380676,45.509407088692605],[-122.6597785949707,45.510091284786306],[-122.65978932380676,45.51082810204745],[-122.65978932380676,45.51151979926975],[-122.6597785949707,45.51224156122109],[-122.6597785949707,45.51294075928475],[-122.65976786613463,45.5136700211284],[-122.65976786613463,45.514384237485736],[-122.65976786613463,45.51508340892925],[-122.65975713729857,45.515797607349015],[-122.65975713729857,45.51650427896906],[-122.65974640846252,45.51724101227305],[-122.65975713729857,45.51796270085105],[-122.65974640846252,45.51865431038605],[-122.65973567962646,45.51937598083769],[-122.65973567962646,45.52009012477689],[-122.65973567962646,45.520789225326936],[-122.65972495079039,45.52149583426],[-122.65970349311829,45.52221746826615],[-122.65972495079039,45.52294660989206],[-122.65969276428224,45.52363815816634],[-122.65970349311829,45.52432969793991],[-122.65969276428224,45.525058812190586],[-122.65868425369264,45.52505129559703]]}},{"type":"Feature","properties":{"stroke":"#0b9d57","stroke-width":5,"stroke-opacity":1},"geometry":{"type":"LineString","coordinates":[[-122.65874862670897,45.50867777161094],[-122.65874326229095,45.507944685639785],[-122.65874862670897,45.507234147048564],[-122.65874862670897,45.50651420065094],[-122.65887737274169,45.50642209196182],[-122.65686035156249,45.50529421824044],[-122.65771865844728,45.5049032167422],[-122.65902757644653,45.50594086860465],[-122.66037940979004,45.50651232088328],[-122.66149520874022,45.506557435289764],[-122.66443490982054,45.50657247341724],[-122.66531467437744,45.50606117482961],[-122.66964912414551,45.50329406660592],[-122.67158031463623,45.50266242501],[-122.67254590988159,45.50248195468095],[-122.67316818237305,45.503384300541114],[-122.6740050315857,45.50532429516629],[-122.67351150512695,45.50678300677997],[-122.67359733581543,45.50699353935527],[-122.67430543899535,45.50717399522168],[-122.67548561096191,45.50730933674183],[-122.67621517181396,45.507399564241126],[-122.67677307128908,45.50786573735033],[-122.67692327499388,45.50801611494907],[-122.67982006072997,45.50789581290221],[-122.6818799972534,45.5080762658761],[-122.68196582794188,45.507459715827004],[-122.68162250518799,45.50684315902468],[-122.6813220977783,45.50654239715829],[-122.68097877502441,45.50624163368495],[-122.6802921295166,45.50595590689683],[-122.6797342300415,45.50574537044074],[-122.67855405807495,45.50561002516029],[-122.6757001876831,45.5054596411337],[-122.67576456069948,45.506301786508196],[-122.67585039138794,45.506828120969516],[-122.67608642578126,45.507339412591]]}},{"type":"Feature","properties":{"stroke":"#009d57","stroke-width":5,"stroke-opacity":1},"geometry":{"type":"LineString","coordinates":[[-122.68188536167143,45.5080762658761],[-122.6819121837616,45.508271755944975],[-122.68181562423706,45.508910853355225],[-122.68162250518799,45.509219121276494],[-122.68566727638243,45.5102717307217],[-122.68504500389099,45.51139198629286],[-122.68475532531738,45.511903236458885],[-122.68456220626831,45.51231674422539],[-122.68380045890808,45.51368505735564],[-122.68314599990845,45.51495560404539],[-122.68256664276122,45.515962999374665],[-122.6820409297943,45.516940305967076],[-122.68166542053223,45.517624410482576],[-122.68097877502441,45.51892493789012],[-122.68059253692626,45.519654122186424],[-122.67951965332031,45.521601073129055],[-122.67917633056639,45.522270087050345],[-122.67906904220582,45.52263090024497],[-122.6784574985504,45.522623383326994],[-122.67851114273071,45.52463788140504],[-122.67860770225525,45.52658465988566],[-122.6786720752716,45.52731374491011],[-122.67759919166565,45.52732126120136],[-122.67765283584593,45.52933559105297],[-122.6776099205017,45.52987674200362]]}},{"type":"Feature","properties":{"stroke":"#0b9d57","stroke-width":5,"stroke-opacity":1},"geometry":{"type":"LineString","coordinates":[[-122.6776099205017,45.52732877749159],[-122.67754554748535,45.52592321375002],[-122.67857551574706,45.52587811486665]]}}]}
      })
});

map.addLayer({
        "id": "greenloop",
        "type": "line",
        "source": "greenloop",
        "layout": {
            "line-join": "round",
            "line-cap": "round"
        },
        "paint": {
            "line-color": "#228B22",
            "line-width": 8
        }
});
</script>

</body>
</html>
